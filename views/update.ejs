<!doctype html>
<html lang="en">

<head>
    <title>
        <%= userData.username %>
    </title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
    <div class="main">
        <div class="changeProfileBox" style="display: none;">
            <div class="box-change">
                <i class="ri-close-line" id="closeBtn"></i>
                <center>
                    <h4 class="text-white" style="cursor: pointer !important;">Change Profile</h4>
                </center>
                <form action="/updateprofile" method="post" enctype="multipart/form-data" style="padding: 20px;padding-top: 0;">
                    <div class="mb-3">
                        <label for="formFile" class="form-label">Default file input example</label>
                        <input name="profilePicture" class="form-control" type="file" id="formFile">
                        <button type="submit" class="btn btn-primary mt-3">Update</button>
                    </div>
                </form>
            </div>
        </div>
        <% include ./partials/left-panel.ejs %>
            <div class="profile-right-pannel">
                <div class="semi-profile-container">
                    <div class="profile-card">
                        <div class="left" style="flex-direction: column;">
                            <img class="profileImg"
                                alt="">
                            <span id="changeProfile" class="text-primary">Change Profile</span>
                        </div>
                        <div class="right">
                            <div class="item-1"><span>
                                    @<span class="profileUser"></span>
                                </span></div>
                            <div class="item-2">
                                <span class="profileUserPost"></span>
                                <span class="profileUserFollowing"></span>
                                <span class="profileUserFollower"></span>
                            </div>
                            <div class="item-3">
                                <span class="profileUserName"></span>
                            </div>
                            <div class="item-4">
                                <span class="profileUserEmail"></span>
                            </div>
                            <div class="item-5">
                                <span class="profileUserId"></span>
                            </div>
                        </div>
                    </div>
                    <div class="container">
                        <form action="/save/<%= userData._id %>" method="post">
                            <div class="row d-flex">
                                <div class="col">
                                    <div class="form-group">
                                        <label for="exampleInputPassword1">Account id</label>
                                        <input disabled value="<%= userData._id %>" type="text" class="form-control"
                                            id="exampleInputPassword1" placeholder="Account I'D">
                                    </div>
                                    <br>
                                    <br>
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Full Name</label>
                                        <input value="<%= userData.name %>" name="name" type="text" class="form-control"
                                            id="exampleInputEmail1" aria-describedby="emailHelp"
                                            placeholder="Enter Name">
                                        <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with
                                            anyone else.</small> -->
                                    </div>
                                    <br>
                                    <div class="col-auto">
                                        <label class="sr-only" for="inlineFormInputGroup">Username</label>
                                        <div class="input-group mb-2">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">@</div>
                                            </div>
                                            <input value="<%= userData.username %>" disabled type="text"
                                                class="form-control" id="disabledTextInput" placeholder="Username">
                                        </div>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Save</button>
                                </div>
                                <div class="col">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Email address</label>
                                        <input name="email" value="<%= userData.email %>" type="email"
                                            class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                                            placeholder="Enter email">
                                        <small id="emailHelp" class="form-text text-muted">We'll never share your email
                                            with
                                            anyone else.</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="exampleInputPassword1">BIO</label>
                                        <input name="bio" type="text" value="<%= userData.bio %>" class="form-control"
                                            id="exampleInputPassword1" placeholder="BIO....">
                                    </div>
                                    <br>
                                    <div class="col-auto">
                                        <label class="sr-only" for="inlineFormInputGroup">Gender</label>
                                        <div class="input-group mb-2">
                                            <select value="<%= userData.gender %>" name="gender" class="form-control"
                                                id="genderSelect">
                                                <option value="df">select gender</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                                <option value="other">Other</option>
                                            </select>
                                        </div>
                                    </div>
                                    <a href="/logout" class="text text-danger float-right">logout</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
    </div>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
        </script>
    <script>
        function openPost(url) {
            window.location.assign(`/post/${url}`);
        }
        // Assuming the gender value is stored in the `userData.gender` variable
        const userGender = '<%= userData.gender %>';
        const genderSelect = document.getElementById('genderSelect');

        // Loop through the options and set the selected option based on `userData.gender`
        for (let i = 0; i < genderSelect.options.length; i++) {
            if (genderSelect.options[i].value === userGender) {
                genderSelect.options[i].selected = true;
                break;
            }
        }
        var changeProfile = document.getElementById('changeProfile');
        var closeBtn = document.querySelector('#closeBtn');
        var changeProfileBox = document.querySelector('.changeProfileBox');
        changeProfile.addEventListener('click', function () {
            changeProfileBox.style.display = 'flex';
        })
        closeBtn.addEventListener('click', function () {
            changeProfileBox.style.display = 'none';
        })
    </script>
<% include ./partials/footer.ejs %>